# 1.1 HTTP的发展

+ HTTP/0.9  1990
+ HTTP/1.0  1996年5月
+ HTTP/1.1  1997年1月

# 1.2 网络的基础 TCP/IP

## 1.2.1 TCP/IP是什么？

协议：（不同的硬件、操作系统之间）双方为了通信而达成一致的规则

+ 说法一：互联网相关各类协议族（集合）的总称
  + 听过：UDP，IP，TCP，DNS，HTTP
  + 没听过：IEEE 802.3，FDDI，ICMP，FTP，SNMP
+ 说法二：TCP协议和IP协议
+ 说法三：IP协议通信过程中，使用到的协议族的统称

## 1.2.2 TCP/IP的层次结构

+ 应用层（HTTP、DNS、FTP）：用户直接使用的地方。（向用户提供了应用服务时通信的活动）
+ 传输层：（TCP、UDP）两台计算机之间的数据传输
  + Transmission Control Protocol 传输控制协议
  + User Data Protocol 用户数据报协议
+ 网络层：处理在网络上流动的数据包，通过什么样的路径到达对方计算机，并把数据包传送给对方
  + 数据包是网络传输的最小数据单位。（网络层的作用->选择传输线路）
+ 链路层：处理连接网络的硬件部分。
  + 控制操作系统、硬件的设备驱动、网卡（Network Interface Card）、光纤
+ 为什么要搞怎么多层？（层次化的优势）
  + 如果有一部分变动了，只需要修改变动的这一部分
  + 每层只需要考虑自己的任务，应用层不在乎传输路线，硬件设备，能不能送达

## 1.2.3 TCP/IP模型的传输方式

采用分层顺序与对方进行通信。发送端**从**应用层往下走，接收端**往**应用层上走

+ 以HTTP为例，客户端在应用层（HTTP协议）发出一个HTTP请求

1. 在传输层（TCP协议）把数据（HTTP请求报文）分割，在各个报文打上标记序号及端口号后转发
2. 在网络层（IP协议），增加通信目的地的==MAC地址==，找到这条传输路线
3. 服务器在链路层接收到数据，按序往上层发送

发送请求时每经过一层，会被打上一个该层的首部信息。接收请求时就一层层拆解。

# 1.3 与HTTP相关的协议都有什么

TCP、IP、DNS

## 1.3.1 IP协议

IP（Internet Protocol）网际协议位于网络层，IP是一种协议的名称，

IP地址是IP协议提供的一种统一的地址格式，在因特网中作为主机的标志。

**作用**：把数据报传送给对方，但要确认传送成功还需要IP地址和MAC地址

IP地址指明了节点被分配的地址，MAC地址是指网卡所属的固定地址。

IP地址和MAC地址可以配对，IP地址可以变换，而MAC地址基本上不变。

**具体是怎么做的呢？**

==使用ARP(Address Resolution Protocol)协议凭借MAC地址进行通信==

ARP是一种用来解析MAC地址的协议，可以利用IP地址反查MAC地址。

路由选择机制：在达到通信目标之前，计算机和路由只能获取粗略的传输路线

​	例子：送货人到集散中心寄件，集散中心寻找下一站地址，下一站的集散中心判断能否送到家

## 1.3.2 TCP协议

TCP协议（Transmission Control Protocol）位于传输层，提供可靠的==字节流服务==。

字节流服务：将大块数据分割成以报文段为单位的数据包进行管理

可靠的传输服务是指，能够把数据准确可靠地传输给对方。

> TCP协议为了更容易传送大数据才把数据分割，而且TCP协议能够确认数据最终是否送达到对方

### TCP三次握手

为了准确无误的传送数据，TCP采用三次握手的策略

1. 发送端发送标有SYN的数据包到接收端
2. 接收端发送标有SYN/ACK的数据包到发送端
3. 发送端发送标有ACK的数据包到接收端

## 1.4 DNS服务

DNS（Domain Name System）服务位于应用层

**作用**：提供通过域名查找IP地址，或通过IP地址查找域名的服务。

+ 发送端访问youjia.com这个网站，那么首先通过DNS服务查询到youjia.com这个域名的IP地址
+ 有了IP地址，发送端就可以发送请求给这个IP地址的服务器。

## 1.5 DNS、TCP、IP与HTTP的关系

1. 客户端访问youjia.com、首先由DNS解析域名，查找到IP地址
2. HTTP协议：生成针对目标的HTTP请求报文
3. TCP协议：将HTTP请求报文按序号分割成报文段
4. IP协议：搜索对方地址，一边中转一边传送
5. 服务端的TCP协议：按序号重组发送过来的报文段
6. 服务端的HTTP协议：对请求内容进行处理。

请求的处理结果也同样利用TCP/IP通信协议向用户进行回传

## 1.6 URI和URL

 URL（Uniform Resource Locator，统一资源定位符）

### 1.6.1 统一资源标识符 URI

Uniform Resource Identifier

+ Uniform 
  + 规定统一的格式，方便处理多种不同类型的资源，==不用根据上下文环境来识别资源指定的访问方式==。
+ Resource
  + 可以标识的任何东西，除了文档文件、图像或服务（例如当天的天气预报）等能够区别于其他类型的，全都可作为资源。
  + 资源不是单一的，也可以是集合
+ Identifier
  + ==可标识的对象==。也称为标识符

URI就是某个协议方案表示的资源的定位标识符。协议方案就是指使用的协议名称。

+ 采用HTTP协议时，协议方案就是http。除此之外还有ftp、mailto、telnet、file等
+ 标准URI协议方案有30种左右，由ICANN的LANA管理颁布。

**URI用字符串标识某一互联网资源，而URL表示资源的地点（互联网上所处的位置）**

+ URL是URI的子集。

### 1.6.2 URI格式

表示指定的URI，要使用涵盖全部必要信息的绝对URI，绝对URL以及相对URL。

> http://user:psss@www.example.cn:80/dir/index.htm?uid=1#ch1
>
> 协议方案名：登录信息（认证）服务器地址 服务器端口号 文件路径 查询字符串 片段标识符

+ 登录信息（认证）
  + （可选项）指定用户名和密码作为从服务器获取资源时必要的登录信息（身份认证）
+ 服务器地址
  + 使用绝对URI必须指定待访问的服务器地址。  地址可以是域名也可以是IP地址
+ 服务器端口号
  + （可选项）指定服务器连接的网络端口号
+ 带层次的文件路径
  + 指定服务器上的文件路径来定位特指的资源。
+ 查询字符串
  + 针对已指定的文件路径内的资源，可以使用查询字符串传入任意参数。
+ 片段标识符
  + （可选项）可标记出已获取资源的子资源（文档当中的某个位置）

> 一些用来制定HTTP协议技术标准的文档，它们被称为RFC（Request for Comments，征求修正意见书）。



















